/* ========================================
   COMPACT MOBILE RESPONSIVE DESIGN
   Maintains Desktop Layout Feel with Mobile Optimization
   ======================================== */

/* Base Layout - Prevent Scrolling Issues */
@media (max-width: 768px) {
  * {
    box-sizing: border-box;
  }

  body {
    overflow-x: hidden;
  }

  /* Portal Layout - Compact Padding */
  .user-portal-layout,
  .portal-content {
    padding: 0.5rem !important;
  }

  .user-appointment-page {
    padding: 0.5rem !important;
  }

  .content-wrapper {
    margin: 0 !important;
    padding: 1rem !important;
  }

  /* Page Headers - Compact */
  .page-header {
    padding: 1rem !important;
    margin-bottom: 1rem !important;
    flex-wrap: nowrap !important;
    gap: 0.75rem !important;
  }

  .header-content {
    flex: 1;
    min-width: 0;
  }

  .page-title {
    font-size: 1.25rem !important;
    margin-bottom: 0.25rem !important;
  }

  .title-icon {
    font-size: 1.25rem !important;
  }

  .page-subtitle {
    font-size: 0.75rem !important;
    line-height: 1.3 !important;
  }

  /* Action Buttons - Keep Inline */
  .new-appointment-btn {
    padding: 0.5rem 1rem !important;
    font-size: 0.75rem !important;
    white-space: nowrap !important;
    min-width: fit-content !important;
  }

  /* Tabs - Compact */
  .tabs {
    padding: 0.5rem !important;
    gap: 0.5rem !important;
  }

  .tab {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.75rem !important;
    gap: 0.375rem !important;
  }

  /* Stats Grid - 2 Columns on Mobile */
  .stats-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.5rem !important;
  }

  .stat-card {
    padding: 0.75rem !important;
    gap: 0.5rem !important;
  }

  .stat-icon {
    width: 40px !important;
    height: 40px !important;
    font-size: 1.25rem !important;
  }

  .stat-number {
    font-size: 1.5rem !important;
  }

  .stat-label {
    font-size: 0.65rem !important;
  }

  /* Type Selector Cards - Stack on Mobile */
  .type-selector-grid {
    grid-template-columns: 1fr !important;
    gap: 0.75rem !important;
  }

  .type-card {
    padding: 1rem !important;
  }

  .type-icon {
    width: 50px !important;
    height: 50px !important;
    font-size: 1.5rem !important;
    margin-bottom: 0.75rem !important;
  }

  .type-card h3 {
    font-size: 1rem !important;
    margin-bottom: 0.375rem !important;
  }

  .type-card p {
    font-size: 0.75rem !important;
    margin-bottom: 0.75rem !important;
  }

  .type-features {
    gap: 0.375rem !important;
  }

  .type-features span {
    font-size: 0.75rem !important;
    padding: 0.375rem !important;
  }

  /* Form Cards - Compact */
  .form-card {
    padding: 1rem !important;
    border-radius: 12px !important;
  }

  .form-card-header {
    margin-bottom: 1rem !important;
    padding-bottom: 0.75rem !important;
  }

  .form-card-header h3 {
    font-size: 1.125rem !important;
    margin-bottom: 0.375rem !important;
  }

  .form-card-header p {
    font-size: 0.75rem !important;
  }

  .form-card-body {
    gap: 1rem !important;
  }

  /* Form Fields - Compact */
  .form-group label {
    font-size: 0.875rem !important;
    margin-bottom: 0.375rem !important;
  }

  /* Exclude login form from global input overrides */
  .form-group input:not(.login-form .form-input),
  .form-group select:not(.login-form select),
  .form-group textarea:not(.login-form textarea) {
    padding: 0.625rem !important;
    font-size: 0.875rem !important;
    border-radius: 8px !important;
  }

  /* Login form specific styles - preserve icon spacing */
  .login-form .form-input {
    padding: 0.875rem 1rem !important;
    font-size: 0.95rem !important;
  }

  .login-form .form-input.with-icon {
    padding-left: 3rem !important;
  }

  /* Form Rows - Keep 2 Columns for Date/Time */
  .form-row {
    grid-template-columns: 1fr 1fr !important;
    gap: 0.75rem !important;
  }

  .time-note {
    font-size: 0.7rem !important;
  }

  /* Info Alert - Compact */
  .info-alert {
    padding: 1rem !important;
    gap: 0.75rem !important;
    margin: 1rem 0 !important;
  }

  .alert-icon {
    font-size: 1.25rem !important;
  }

  .alert-content h4 {
    font-size: 0.875rem !important;
    margin-bottom: 0.5rem !important;
  }

  .alert-content p {
    font-size: 0.75rem !important;
    margin-bottom: 0.5rem !important;
  }

  .requirements-list {
    margin-top: 0.75rem !important;
  }

  .requirements-list ul {
    margin-top: 0.5rem !important;
  }

  .requirements-list li {
    font-size: 0.7rem !important;
    line-height: 1.6 !important;
  }

  /* Submit Button - Full Width but Compact */
  .submit-btn-modern {
    padding: 0.875rem 1.5rem !important;
    font-size: 0.875rem !important;
    margin-top: 1rem !important;
  }

  /* Filter Panel - Compact */
  .filter-panel {
    padding: 1rem !important;
    margin-bottom: 1rem !important;
  }

  .filter-header h3 {
    font-size: 1rem !important;
  }

  .filter-header p {
    font-size: 0.75rem !important;
  }

  .filter-row {
    flex-direction: column !important;
    gap: 0.75rem !important;
  }

  .filter-group {
    min-width: 100% !important;
  }

  .filter-group label {
    font-size: 0.75rem !important;
  }

  .filter-group input,
  .filter-group select {
    padding: 0.5rem !important;
    font-size: 0.875rem !important;
  }

  .filter-actions {
    flex-direction: row !important;
    width: 100% !important;
    gap: 0.5rem !important;
  }

  .apply-filter-btn,
  .clear-filter-btn {
    flex: 1 !important;
    padding: 0.625rem 1rem !important;
    font-size: 0.75rem !important;
  }

  /* Appointments Grid - Single Column but Compact */
  .appointments-grid-modern {
    grid-template-columns: 1fr !important;
    gap: 0.75rem !important;
  }

  .appointment-card-modern {
    padding: 1rem !important;
    border-radius: 12px !important;
  }

  /* Card Header - Keep Side by Side */
  .card-header-modern {
    margin-bottom: 0.75rem !important;
    padding-bottom: 0.75rem !important;
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
  }

  .appointment-type-badge {
    padding: 0.375rem 0.75rem !important;
    font-size: 0.7rem !important;
    gap: 0.375rem !important;
  }

  .status-badge-modern {
    padding: 0.375rem 0.75rem !important;
    font-size: 0.7rem !important;
    gap: 0.375rem !important;
  }

  /* Card Body - Compact Info Grid */
  .card-body-modern {
    margin-bottom: 0.75rem !important;
  }

  .appointment-info-grid {
    gap: 0.5rem !important;
    margin-bottom: 0.75rem !important;
  }

  .info-item {
    padding: 0.625rem !important;
    gap: 0.75rem !important;
  }

  .info-icon {
    font-size: 1rem !important;
  }

  .info-label {
    font-size: 0.65rem !important;
  }

  .info-value {
    font-size: 0.8125rem !important;
  }

  /* Online Section - Compact */
  .online-section-modern {
    padding: 1rem !important;
    margin-top: 0.75rem !important;
  }

  .online-header {
    font-size: 0.875rem !important;
    margin-bottom: 0.75rem !important;
  }

  .join-meet-btn {
    padding: 0.75rem 1.5rem !important;
    font-size: 0.875rem !important;
  }

  .meet-pending,
  .meet-waiting,
  .meet-completed,
  .meet-declined {
    padding: 0.625rem !important;
    font-size: 0.8125rem !important;
  }

  .chat-btn-modern {
    padding: 0.75rem 1rem !important;
    font-size: 0.875rem !important;
    margin-top: 0.75rem !important;
  }

  /* Card Footer - Keep Buttons Side by Side */
  .card-footer-modern {
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
  }

  .details-btn-modern,
  .cancel-btn-modern,
  .reschedule-btn-modern {
    padding: 0.625rem 0.875rem !important;
    font-size: 0.75rem !important;
    flex: 1 !important;
    min-width: calc(50% - 0.25rem) !important;
  }

  /* Consultation Notes - Compact */
  .consultation-notes-section {
    padding: 1rem !important;
    margin-top: 0.75rem !important;
  }

  .notes-header {
    font-size: 0.875rem !important;
    margin-bottom: 0.75rem !important;
  }

  .notes-grid {
    gap: 0.5rem !important;
    margin-bottom: 0.75rem !important;
  }

  .note-item {
    padding: 0.625rem !important;
  }

  .note-label {
    font-size: 0.7rem !important;
  }

  .note-value {
    font-size: 0.8125rem !important;
  }

  .prescriptions-section h5,
  .followup-section h5 {
    font-size: 0.875rem !important;
    margin-bottom: 0.5rem !important;
  }

  .prescription-item {
    padding: 0.75rem !important;
  }

  .rx-header strong {
    font-size: 0.875rem !important;
  }

  .rx-dosage {
    font-size: 0.75rem !important;
  }

  .rx-details {
    font-size: 0.7rem !important;
    gap: 0.75rem !important;
  }

  .rx-instructions {
    font-size: 0.75rem !important;
    padding: 0.375rem !important;
  }

  /* Queue Info - Compact */
  .queue-info {
    padding: 0.75rem !important;
  }

  .queue-number {
    font-size: 1.25rem !important;
    padding: 0.25rem 0.5rem !important;
  }

  .queue-status {
    font-size: 0.7rem !important;
    padding: 0.25rem 0.5rem !important;
  }

  /* Chat Modal - Optimized for Mobile */
  .chat-modal-overlay {
    padding: 0.5rem !important;
  }

  .chat-modal-modern {
    max-height: 90vh !important;
    max-width: 100% !important;
  }

  .chat-modal-header {
    padding: 1rem !important;
  }

  .chat-modal-header h3 {
    font-size: 1rem !important;
  }

  .chat-modal-header p {
    font-size: 0.75rem !important;
  }

  .close-btn-icon {
    width: 36px !important;
    height: 36px !important;
    font-size: 1rem !important;
  }

  .chat-messages-area {
    padding: 1rem !important;
    gap: 0.75rem !important;
    min-height: 300px !important;
  }

  .message-content {
    max-width: 80% !important;
    padding: 0.75rem 1rem !important;
  }

  .message-content p {
    font-size: 0.875rem !important;
  }

  .message-time {
    font-size: 0.7rem !important;
  }

  .chat-input-area {
    padding: 1rem !important;
    gap: 0.5rem !important;
  }

  .chat-input-area input {
    padding: 0.75rem 1rem !important;
    font-size: 0.875rem !important;
  }

  .send-btn-modern {
    width: 44px !important;
    height: 44px !important;
    font-size: 1rem !important;
  }

  /* Details Modal - Compact */
  .modal-overlay {
    padding: 0.5rem !important;
  }

  .modal-content-modern {
    max-width: 100% !important;
  }

  .modal-header-modern {
    padding: 1rem !important;
  }

  .modal-header-modern h3 {
    font-size: 1rem !important;
  }

  .modal-body-modern {
    padding: 1rem !important;
    gap: 0.75rem !important;
  }

  .detail-row-modern {
    padding: 0.75rem !important;
  }

  .detail-label {
    font-size: 0.75rem !important;
  }

  .detail-value {
    font-size: 0.875rem !important;
  }

  /* Empty State - Compact */
  .empty-state-modern {
    padding: 3rem 1.5rem !important;
  }

  .empty-icon {
    font-size: 3rem !important;
  }

  .empty-state-modern h3 {
    font-size: 1.25rem !important;
  }

  .empty-state-modern p {
    font-size: 0.875rem !important;
    margin-bottom: 1.5rem !important;
  }

  .schedule-btn-modern {
    padding: 0.875rem 1.5rem !important;
    font-size: 0.875rem !important;
  }

  /* Active Appointment Alert - Compact */
  .active-appointment-alert {
    padding: 1rem !important;
    gap: 0.75rem !important;
    margin-bottom: 1rem !important;
  }

  .active-appointment-alert .alert-icon {
    font-size: 1.5rem !important;
  }

  .active-appointment-alert h4 {
    font-size: 0.875rem !important;
  }

  .active-appointment-alert p {
    font-size: 0.75rem !important;
    margin-bottom: 0.75rem !important;
  }

  .view-appointment-btn {
    padding: 0.625rem 1rem !important;
    font-size: 0.75rem !important;
  }
}

/* Smaller Mobile Devices */
@media (max-width: 480px) {
  .page-title {
    font-size: 1.125rem !important;
  }

  .new-appointment-btn {
    font-size: 0.7rem !important;
    padding: 0.5rem 0.75rem !important;
  }

  .stats-grid {
    grid-template-columns: 1fr !important;
  }

  .tab {
    font-size: 0.7rem !important;
  }

  .form-card {
    padding: 0.875rem !important;
  }

  .form-row {
    grid-template-columns: 1fr !important;
  }

  /* Login form specific for small mobile */
  .login-form .form-input {
    padding: 0.75rem 0.875rem !important;
    font-size: 0.9rem !important;
  }

  .login-form .form-input.with-icon {
    padding-left: 2.875rem !important;
  }
}
